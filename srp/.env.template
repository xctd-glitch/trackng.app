# Smart Redirect Platform (SRP) - Production Environment Configuration
# Copy this to .env and update with your actual values
# Last Updated: 2025-11-29

# ==================== ENVIRONMENT ====================
SRP_ENV=production
APP_DEBUG=false
APP_NAME="Smart Redirect Platform"
APP_TIMEZONE=UTC

# ==================== DOMAINS ====================
# Brand Domain (Admin Panel)
APP_URL="https://trackng.app"
APP_PANEL_URL="https://panel.trackng.app"

# Tracking Domain (Redirect Service)
TRACKING_PRIMARY_DOMAIN="qvtrk.com"
TRACKING_REDIRECT_URL="https://qvtrk.com"
TRACKING_DECISION_API="https://api.qvtrk.com"
TRACKING_POSTBACK_URL="https://api.qvtrk.com"

# Alternative tracking domains (comma-separated)
TRACKING_ALT_DOMAINS="t.qvtrk.com,track.qvtrk.com"

# ==================== DATABASE ====================
# Update with your cPanel MySQL credentials
DB_HOST=localhost
DB_PORT=3306
DB_NAME=username_srp
DB_USER=username_srpuser
DB_PASS=your_secure_password_here
DB_CHARSET=utf8mb4

# ==================== AUTHENTICATION ====================
# Admin credentials (generate bcrypt hash for password)
# Default: admin / password123 (CHANGE IMMEDIATELY!)
SRP_ADMIN_USER=admin
SRP_ADMIN_PASSWORD_HASH=$2y$10$8K.FqGZ2nrVlxqc7xLqJAONwz5Sg4U6F7GmRc3bNWohWn6sF1kJHK

# ==================== API SECURITY ====================
# Generate with: openssl rand -hex 32
SRP_API_KEY=change_this_to_32_character_random_string_12345678
API_KEY_INTERNAL=change_this_to_another_32_char_random_string_123
API_KEY_EXTERNAL=change_this_to_another_32_char_random_string_456

# Decision API key for external clients
DECISION_API_KEY=change_this_to_secure_32_char_string_for_decision
POSTBACK_SECRET=change_this_to_secure_string_for_postback_verify

# IP Hashing Salt (untuk privacy compliance - hash IP sebelum logging)
# Generate with: openssl rand -hex 32
IP_HASH_SALT=change_this_to_random_32_character_salt_string_here

# JWT Settings (if needed)
JWT_SECRET=change_this_to_very_secure_random_string_64_chars
JWT_ALGO=HS256
JWT_LIFETIME=3600

# ==================== PATHS ====================
# Update with your actual server paths
APP_ROOT=/home/username/srp
LOG_PATH=/home/username/storage/logs/app.log
CACHE_PATH=/home/username/storage/cache

# ==================== SESSION ====================
# Session lifetime in seconds (30 days)
SESSION_LIFETIME=2592000
SESSION_NAME=srp_session

# ==================== SECURITY ====================
# Trust CloudFlare headers
TRUST_CF_HEADERS=true

# CORS allowed origins (comma-separated)
CORS_ALLOWED_ORIGINS="https://trackng.app,https://panel.trackng.app"

# Rate limiting
RATE_LIMIT_ENABLED=true
RATE_LIMIT_REQUESTS=100
RATE_LIMIT_WINDOW=60

# ==================== FEATURES ====================
# System features
ENABLE_POSTBACK=true
ENABLE_AUTO_MUTE=true
ENABLE_VPN_CHECK=true

# ==================== EXTERNAL SERVICES ====================
# VPN detection service
VPN_CHECK_TIMEOUT=2
VPN_CHECK_SERVICE="blackbox.ipinfo.app"

# ==================== MAINTENANCE ====================
# Auto cleanup (days)
LOG_RETENTION_DAYS=30
TRAFFIC_LOG_RETENTION_DAYS=7
POSTBACK_LOG_RETENTION_DAYS=30
SESSION_CLEANUP_PROBABILITY=1

# ==================== CACHING ====================
# Cache driver (file, redis, memcached, array)
CACHE_DRIVER=file
CACHE_PREFIX=srp_
CACHE_DEFAULT_TTL=3600

# Redis configuration (if using Redis)
REDIS_HOST=127.0.0.1
REDIS_PASSWORD=null
REDIS_PORT=6379

# ==================== LOGGING ====================
# Log level (debug, info, notice, warning, error, critical, alert, emergency)
LOG_LEVEL=error
LOG_CHANNEL=daily
LOG_DEPRECATIONS=false

# ==================== EMAIL ====================
# Email notifications
MAIL_ENABLED=false
MAIL_MAILER=smtp
MAIL_HOST=smtp.mailtrap.io
MAIL_PORT=2525
MAIL_USERNAME=null
MAIL_PASSWORD=null
MAIL_ENCRYPTION=tls
MAIL_FROM_ADDRESS="noreply@qvtrk.com"
MAIL_FROM_NAME="${APP_NAME}"

# ==================== PERFORMANCE ====================
# Query optimization
DB_QUERY_LOG=false
DB_SLOW_QUERY_LOG=true
DB_SLOW_QUERY_TIME=5

# ==================== MONITORING ====================
# Health check endpoint
HEALTH_CHECK_ENABLED=true
HEALTH_CHECK_PATH=/health
HEALTH_CHECK_TOKEN=change_this_health_check_token

# ==================== BACKUP ====================
# Auto backup settings
BACKUP_ENABLED=false
BACKUP_SCHEDULE="0 3 * * *"
BACKUP_RETENTION_DAYS=7
BACKUP_PATH=/home/username/backups

# ==================== DO NOT EDIT BELOW ====================
# Version tracking
CONFIG_VERSION=2.2.0
CONFIG_UPDATED=2025-11-29